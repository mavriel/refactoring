# 12. 상속 다루기

## 12.1 메서드 올리기 (Pull Up Method)

### 언제/의견/주의사항

- 서브클래스가 중복이 있는 경우
- 각각을 매개변수화 한 다음 메서드를 상속 계층의 위로 올림
- 메서드가 사용하는 필드가 서브클래스에만 있으면, 슈퍼클래스로 올린후 메서드를 올린다.
- 전체 흐름은 비슷하지만 세부 내용이 다르면 템플릿 메서드를 만든다.
-

### 절차

1. 똑같이 동작하는 메서드인지 확인
2. 메서드 안에서 호출하는 다른 메서드와 참조하는 필드들을 슈퍼클래스에서도 호출/참조할 수 있는지 확인
3. 함수 선언 바꾸기로 슈퍼클래스에서 사용할 해태로 통일
4. 슈퍼클래스에 새로운 메서드 생성하고, 대상 메서드의 코드 복사
5. 정적 검사
6. 서브클래스 중 하나의 메서드 제거
7. 테스트
8. 모든 서브클래스의 메서드가 없어질 때까지 하나씩 제거

## 12.2 필드 올리기 (Pull Up Field)

### 언제/의견/주의사항

- 서브클래스들이 독립적으로 개발되거나, 나중에 하나의 계층구조로 리팩터링되서 기능이 중복 되는 경우 (특히 필드 중복)
- 필드들을 분석하고 비슷한 방식으로 사용되면 슈퍼클래스로 끌어올리자
- 클래스정의에 필드가 포함되지 않는 언어라면, 생성자 본문부터 올리자

### 절차

1. 후보 필드들이 사용하는 곳 모두가 같은 방식으로 사용하는지 확인
2. 이름이 다르면 같은 이름으로 변경
3. 슈퍼클래스에 새로운 필드 생성
4. 서브클래스의 필드 제거
5. 테스트

## 12.3 생성자 본문 올리기 (Pull Up Constructor Body)

### 언제/의견/주의사항

- 쉽지 않다면 생성자를 팩터리 함수로 바꾸기를 고려

### 절차

1. 슈퍼클래스에 생성자가 없으면 하나 정의. 서브클래스의 생성자들에서 이 생성자가 호출되는지 확인
2. 문장 슬라이드하기로 공통 문장 모두를 super() 호출 직후로 이동
3. 공통 코드를 슈퍼클래스에 추가하고 서브클래스들에서 제거. 생성자 매개변수 중 공통 코드에서 참조하는 값들을 모두 super()로 건넨다.
4. 테스트
5. 생성자 시작 부분으로 옮길 수 없는 공통 코드에는 함수 추출하기와 메서드 올리기를 차례로 적용

## 12.4 메서드 내리기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.5 필드 내리기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.6 타입 코드를 서브클래스로 바꾸기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.7 서브글래스 제거하기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.8 슈퍼클래스 추출하기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.9 계층 합치기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.10 서브클래스를 위임으로 바꾸기 ()

### 언제/의견/주의사항

-

### 절차

1.

## 12.11 슈퍼클래스를 위임으로 바꾸기 ()

### 언제/의견/주의사항

-

### 절차

1.
