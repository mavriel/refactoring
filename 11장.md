# 11. 조건부 로직 간소화

## 11.1 질의 함수와 변경 함수 분리하기 (Separate Query from Modifier)

### 언제/의견/주의사항

- 좋은 API는 데이터를 갱신하는 함수와 그저 조회만 하는 함수를 명확히 구분한다.
- 질의함수에 부수효과가 없도록 만들면 버그없는 프로그램을 만드는데 유용하다.

### 절차

1. 대상 함수를 복제하고 질의 목적에 충실한 이름을 짓는다.
2. 새 질의 함수에서 부수효과를 모두 제거한다.
3. 정적 검사 수행
4. 원래 함수를 호출하는 곳을 모두 찾아, 반환값을 사용하면 질의 함수를 호출하도록 하고, 바로 아래 원래 함수 호출하도록 수정후 테스트
5. 원래 함수에서 질의 관련 코드 제거
6. 테스트

## 11.2 함수 매개변수화하기 (Parameterize Function)

### 언제/의견/주의사항

- 값 하나 때문에 여러개로 나뉜 함수가 존재시
- 두 함수의 로직이 아주 비슷하고 리터럴 값만 다를때, 다른 값만 매개변수로 받아서 처리
- 매개변수 값만 바꿔서 여러 곳에서 사용 가능해짐
- **테스트중요** 이 파트는 좀 애매한듯. 이책의 대부분 실수없이 기계적으로 하는 내용이 대부분인데, 이건 실수가 생길듯

### 절차

1. 비슷한 함수 하나 선택
2. 함수 선언 바꾸기로 리터럴들을 매개변수로 추가
3. 이 함수를 호출하는 모든 곳에 적절한 리터럴 값 추가
4. 테스트
5. 매개변수로 받은 값을 사용하도록 함수 본문 수정. 수정할때마다 테스트
6. 비슷한 다른 함수를 호출하는 코드를 찾아 매개변수화된 함수를 호출하도록 하나씩 수정. 수정할때마다 테스트

## 11.3 플래그 인수 제거하기 (Remove Flag Argument)

### 언제/의견/주의사항

- 플래그 인수가 있으면 함수들의 기능 차이가 잘 드러나지 않아서, 함수를 어떻게 호출해야 하는지 이해하기 어려워 진다.
  - 호출하는 위치에서 특히 true/false만 가지고 함수가 뭘 할지 판단하기 어렵다.
- 플래그 인수는 함수내에서 그 인수를 가지고 제어 흐름을 결정하는데 사용되는 경우임

### 절차

1. 매개변수로 주어질 수 있는 값 각각에 대응하는 명시적 함수 생성
2. 원래 함수를 호출하는 코드들을 찾아서 명시적 함수 호출하도록 수정

## 11.4 객체 통째로 넘기기 (Preserve Whole Object)

### 언제/의견/주의사항

- 데이터 구조가 함수 사이를 건너 다니면서 필요 이상으로 분해될 때

### 절차

## 11.5 매개변수를 질의 함수로 바꾸기 (Replace Parameter with Query)

### 언제/의견/주의사항

-

### 절차

## 11.6 질의 함수를 매개변수로 바꾸기 (Replace Query with Parameter)

### 언제/의견/주의사항

### 절차

## 11.7 세터 제거하기 (Remove Setting Method)

### 언제/의견/주의사항

- 클래스를 불변으로 만들면 편하기 때문에

### 절차

## 11.8 생성자를 팩터리 함수로 바꾸기 (Replace Constructor with Factory Function)

### 언제/의견/주의사항

- 일반 생성자의 능력으로

### 절차

## 11.9 함수를 명령으로 바꾸기 (Replace Function with Command)

### 언제/의견/주의사항

### 절차

## 11.10 명령을 함수로 바꾸기 (Replace Command with Function)

### 언제/의견/주의사항

### 절차

## 11.11 수정된 값 반환하기 (Return Modified Value)

### 언제/의견/주의사항

### 절차

## 11.12 오류 코드를 예외로 바꾸기 (Replace Error Code with exception)

### 언제/의견/주의사항

### 절차

## 11.13 예외를 사전확인으로 바꾸기 (Replace Exception with Precheck)

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차

## 11. ()

### 언제/의견/주의사항

### 절차
